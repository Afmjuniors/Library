<div class="my-container">
	<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '0px' }"></ngx-loading>
</div>
<div class="kt-portlet">
	<div class="kt-portlet__head kt-portlet__head__custom">
		<div class="kt-portlet__head-label">
			<h3 class="kt-portlet__head-title">{{ "USER_EDIT" | translate }}</h3>
		</div>
	</div>

	<div class="kt-form">
		<div class="kt-portlet__body p-t-0">
			<div class="row form-group">
				<div class="col-lg-12">
					<h2>{{user.initials.toUpperCase()}}</h2>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-5 card text-center">
					<h5>{{ "AD_GROUP" | translate }}</h5>
					<mat-list role="list">
						<mat-list-item class="cursor" [ngClass]="{'active': ad.adGroupId == adGroupUser.adGroupId }" *ngFor="let ad of adGroupsUser" (click)="selectAdGroup(ad)" role="listitem">
							<div >
								{{ad.groupName}}
							</div>
						</mat-list-item>
					</mat-list>
				</div>
				<div class="col-lg-5 card text-center" style="margin-left: 10px;">
					<h5>{{ 'MENU.AREA' | translate }}</h5>
					<div class="row" *ngIf="adGroupUser">
						<div class="col-lg-4">
							<mat-form-field class="full-width">
								<mat-select placeholder="{{ 'MENU.PROCESS' | translate }}" [(ngModel)]="process"
									class="full-width" (selectionChange)="loadListAreas($event.value)">
									<mat-option *ngFor="let item of processes" [value]="item.processId">
										{{item.acronym}} - {{item.description}}
									</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="col-lg-5">
							<mat-form-field class="full-width">
								<mat-select placeholder="{{ 'MENU.AREA' | translate }}" [(ngModel)]="adGroupUserArea.areaId"
									class="full-width" [disabled]="areas == null || areas.length == 0">
									<mat-option *ngFor="let item of areas" [value]="item.areaId">
										{{item.name}} - {{item.description}}
									</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="col-lg-1">
							<button mat-raised-button (click)="addAdGroupUserArea()" color="primary" type="button">
								<span>
									+
								</span>
							</button>
						</div>
					</div>
					<mat-list role="list">
						<mat-list-item class="cursor" *ngFor="let area of areasAdGroup" role="listitem">
							<span  style="margin-top: 0px !important; margin-right: 15px;" class="material-icons mt-3 userIcon view" (click)="removeAdGroupUserArea(area)">
								delete
							</span>
							{{area.process.acronym}}: {{area.name}} - {{area.description}}
						</mat-list-item>
					</mat-list>
				</div>
			</div>
		</div>
	</div>
</div>
