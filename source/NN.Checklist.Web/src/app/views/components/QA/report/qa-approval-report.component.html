<div class="container">
	<div class="row">
		<div class="col-lg-6">
			<h1 class="mt-3 ml-3" mat-dialog-title>
			</h1>
		</div>
	</div>
	<div class="row">

	</div>
</div>




<div class="my-container">
	<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>
</div>
<div class="kt-portlet">
	<div class="kt-portlet__head kt-portlet__head__custom">

		<div class="kt-portlet__head-label">
			<h3 class="kt-portlet__head-title">
				{{ "AUTH.QA_REPORT.REPORT.TITLE" | translate }}
			</h3>
		</div>
		<div class="kt-portlet__head-label">
			<button mat-button style="height: 50px; width: 100%; padding: 10px; margin: 10px" (click)="sendMail()" mat-raised-button
				color="primary"
				type="button">
				{{ "AUTH.QA_REPORT.SEND_MAIL" | translate }}
				<span class="material-icons">
					mail
				</span>
		</button>
		</div>
	</div>
	<div class="kt-portlet__body p-t-0">

		<div class="card">
			<div class="row">
				<div class="col-lg-12">
					<h5>{{ "AUTH.QA_REPORT.HEADER" | translate }}</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12">
					<div class="row">
						<div class="col-lg-6">
							<b>{{user.userAD}}</b>
						</div>
						<div class="col-lg-6">
							<p><b>{{ "AUTH.QA_REPORT.REPORT.REPORT_DTH" | translate }} </b> {{ dth_generate | date:'yyyy-MM-dd HH:mm:ss'}}</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="card">
			<h5>{{ "AUTH.QA_REPORT.FILTER" | translate }}</h5>
			<div class="row">
				<div class="col-lg-4">
					<div class="d-block">
						<p><b>{{ "AUTH.QA_REPORT.REPORT.START_DATE" | translate }}:</b> {{data.filters.startDate != undefined ? (data.filters.startDate | date:'yyyy-MM-dd HH:mm:ss') : ' - '}}</p>
						<p><b>{{ "AUTH.QA_REPORT.REPORT.END_DATE" | translate }}:</b> {{data.filters.endDate != undefined ? (data.filters.endDate | date:'yyyy-MM-dd HH:mm:ss') : ' - '}}</p>
					</div>
				</div>
				<div class="col-lg-4">
					<div class="d-block">
						<p><b>{{ "AUTH.QA_REPORT.TABLE.PROCESS" | translate }}:</b> {{data.filters.process != undefined ? process : ' - '}}</p>
						<p><b>{{ "AUTH.QA_REPORT.TABLE.AREA" | translate }}:</b> {{data.filters.area != undefined ? area : ' - '}}</p>
					</div>

				</div>
				<div class="col-lg-4">
					<div class="d-block">
						<p><b>{{ "AUTH.QA_REPORT.TABLE.ALARM" | translate }}:</b> {{data.filters.alarm != undefined ? data.filters.alarm : ' - '}}</p>
						<p><b>{{ "AUTH.QA_REPORT.TABLE.STATE" | translate }}:</b> {{data.filters.status != undefined ? status : ' - '}}</p>
					</div>

				</div>
			</div>
		</div>
		<div class="card">
			<div class="row">
				<div class="col-lg-12">
					<div class="mat-table__wrapper">
						<mat-table class="lmat-elevation-z8" #table [dataSource]="data.occurrences" matSort #sort1="matSort"
							matSortActive="id" matSortDirection="asc" matSortDisableClear>
							<!-- Checkbox Column -->

							<!-- Table with selection -->
							<!-- https://run.stackblitz.com/api/angular/v1?file=app%2Ftable-selection-example.ts -->
							<ng-container matColumnDef="alarms">
								<mat-header-cell *matHeaderCellDef>{{ "AUTH.QA_REPORT.TABLE.ALARM" | translate }}</mat-header-cell>
								<mat-cell *matCellDef="let alarm">{{alarm.alarms}}</mat-cell>
							</ng-container>

							<ng-container matColumnDef="messages">
								<!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->
								<mat-header-cell *matHeaderCellDef mat-sort-header>{{ "AUTH.QA_REPORT.TABLE.DESCRIPTION" | translate }}</mat-header-cell>
								<mat-cell *matCellDef="let alarm">{{alarm.description}}</mat-cell>
							</ng-container>

							<ng-container matColumnDef="process">
								<mat-header-cell *matHeaderCellDef mat-sort-header>{{ "AUTH.QA_REPORT.TABLE.PROCESS" | translate }}</mat-header-cell>
								<mat-cell *matCellDef="let alarm">{{alarm.process}}</mat-cell>
							</ng-container>

							<ng-container matColumnDef="area">
								<mat-header-cell *matHeaderCellDef mat-sort-header>{{ "AUTH.QA_REPORT.TABLE.AREA" | translate }}</mat-header-cell>
								<mat-cell *matCellDef="let alarm">{{alarm.area}}</mat-cell>
							</ng-container>

							<ng-container matColumnDef="date">
								<mat-header-cell *matHeaderCellDef mat-sort-header>{{ "AUTH.QA_REPORT.TABLE.DTH_APPROVED" | translate }}</mat-header-cell>
								<mat-cell *matCellDef="let alarm">{{alarm.analysisDate | date:'yyyy-MM-dd HH:mm:ss'}}</mat-cell>
							</ng-container>

							<ng-container matColumnDef="responsible">
								<mat-header-cell *matHeaderCellDef mat-sort-header>{{ "AUTH.QA_REPORT.TABLE.RESPONSIBLE" | translate }}</mat-header-cell>
								<mat-cell *matCellDef="let alarm">{{alarm.responsible}}</mat-cell>
							</ng-container>

							<ng-container matColumnDef="status">
								<mat-header-cell *matHeaderCellDef mat-sort-header>{{ "AUTH.QA_REPORT.TABLE.STATE" | translate }}</mat-header-cell>
								<mat-cell *matCellDef="let alarm">{{alarm.status}}</mat-cell>
							</ng-container>

							<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>

							<mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
						</mat-table>

						<!-- <div class="mat-table__message" *ngIf="!data.occurrences.hasItems">{{ "MENU.NO_RECORDS" | translate }}</div> -->
						<!-- Message for empty data  -->
						<div class="mat-table__message" *ngIf="data.occurrences.isPreloadTextViewed$ | async">{{ "MENU.PLEASE_WAIT" | translate }}</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
