<div class="container" >
    <div class="row">
        <div class="mat-table__wrapper2" >
            <mat-table class="lmat-elevation-z8" #table [dataSource]="dataSource" matSort #sort1="matSort"
                matSortActive="id" matSortDirection="asc" matSortDisableClear
                
                >

                <ng-container matColumnDef="user"  >
                    <mat-header-cell *matHeaderCellDef mat-sort-header >{{ "CHECKLISTS.SIGNATURE.INITIALS" | translate }}
                    </mat-header-cell>
                    <mat-cell [ngClass]="{'rejected-item':signature.isRejected}" *matCellDef="let signature">{{signature.signature.initials}}</mat-cell>
                </ng-container>

                <ng-container matColumnDef="date"  >
                    <mat-header-cell *matHeaderCellDef mat-sort-header>{{ "CHECKLISTS.SIGNATURE.DATE" | translate }}</mat-header-cell>
                    <mat-cell [ngClass]="{'rejected-item':signature.isRejected}" *matCellDef="let signature">{{signature.signature.dthSignFormatted}}</mat-cell>

                </ng-container>
                <ng-container matColumnDef="comments"  >
                    <mat-header-cell *matHeaderCellDef mat-sort-header style="align-items: center; justify-content: center;">{{ "CHECKLISTS.SIGNATURE.COMMENTS" | translate }}</mat-header-cell>
                    <mat-cell [ngClass]="{'rejected-item':signature.isRejected}" *matCellDef="let signature"signature. style="align-items: center; justify-content: center;">{{signature.signature?.comments}}</mat-cell>

                </ng-container>
                <ng-container matColumnDef="selected" *ngIf="hasOptions" >
                    <mat-header-cell *matHeaderCellDef mat-sort-header style="align-items: center; justify-content: center;">{{ "CHECKLISTS.SIGNATURE.SELECTED" | translate }}</mat-header-cell>
                    <mat-cell [ngClass]="{'rejected-item':signature.isRejected}" *matCellDef="let signature"signature. style="align-items: center; justify-content: center;">
                        <table>
                            <tr *ngFor="let option of signature.optionsAvalible">
                                <td [ngClass]="{'rejected-item':signature.isRejected}">{{option.title}}</td>
                                <td [ngClass]="{'rejected-item':signature.isRejected}"><mat-icon matTooltip="">{{ option.icon }}</mat-icon></td>
                            </tr>
                        </table>

                    </mat-cell>
                </ng-container>

                <mat-header-row *matHeaderRowDef="displayedColumns"  ></mat-header-row>
                <mat-row  *matRowDef="let row; columns: displayedColumns"  ></mat-row>
                
            </mat-table>

            <!-- Message for empty data  -->
            <div class="mat-table__message" *ngIf="loading | async">{{ "PLEASE_WAIT" |
                translate }}</div>
        </div>

    </div>
    <div class="row">
        <div class="col-lg-12">
            <button class="btn btn-danger mt-2 w-100 mb-2" (click)="closeModal()">
                {{ "CHECKLISTS.SIGNATURE.CLOSE" | translate }}
                <span class="material-icons float-right mt-1 mr-2">
                    cancel
                </span>
            </button>
        </div>
    </div>
</div>